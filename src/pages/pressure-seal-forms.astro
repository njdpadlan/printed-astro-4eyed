---
import Hero from "../components/PressureSeal/Hero.astro";
import SecureFold from "../components/PressureSeal/SecureFold.astro";
import WhatIs from "../components/PressureSeal/WhatIs.astro";
import Head from "../layouts/Head.astro";
import Layout from "../layouts/Layout.astro";
import fetchApi from "../lib/strapi";



const pages = await fetchApi({
  endpoint: 'pressure-seal-envelopes', 
  page: 'PressureSealEnvelopePage',
  wrappedByKey: 'data',
});

// http://localhost:1337/api/pressure-seal-envelopes?populate[PressureSealEnvelopePage][populate]=*

const pressureSealPage = pages[0];
const pageData = pressureSealPage?.PressureSealEnvelopePage || [];

const heroData = pageData.find(pd => pd.__component === "pressuresealhero.pressureseal-hero") || {};

const pressuresealWhatIsData = pageData.find(pd => pd.__component === "pressuresealwhatis.pressureseal-what-is") || {};

const securefoldData = pageData.find(pd => pd.__component === "securefold.secure-fold") || {};

const seoPageData = pageData.find(pd => pd.__component === "shared.seo") || {};
---
<Head seoData={seoPageData} />
<Layout>
    <Hero pressureSealHero={heroData} />
    <WhatIs productWhatIs={pressuresealWhatIsData}/>
    <SecureFold productSecureFold={securefoldData} />
</Layout>
