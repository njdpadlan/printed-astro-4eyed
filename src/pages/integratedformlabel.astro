---
import Hero from "../components/IntegratedForm/Hero.astro";
import WhatIs from "../components/IntegratedForm/WhatIs.astro";
import SmartEfficient from "../components/IntegratedForm/SmartEfficient.astro";
import Layout from "../layouts/Layout.astro";
import fetchApi from "../lib/strapi";



const pages = await fetchApi({
  endpoint: 'integrated-form-labels', 
  page: 'IntegratedFormLabelPage',
  wrappedByKey: 'data',
});

// http://localhost:1337/api/integrated-form-labels?populate[IntegratedFormLabelPage][populate]=*

//fetch page data for integrated form label page
const integratedformsPage = pages[0];
const pageData = integratedformsPage?.IntegratedFormLabelPage || [];

// fetch integratedform hero components
const heroData = pageData.find(pd => pd.__component === "integratedformlabelhero.integratedformlabel-hero") || {};
const {integratedformlabelHeader, integratedformlabelDesc} = heroData;


const { integratedformlabelImage: {
	url: integratedformlabelImage
}} = heroData;

const { integratedformlabelImage: {
	alternativeText: integratedformlabelAltText
}} = heroData;

//fetch integratedformWhatIs components

const integratedformWhatIsData = pageData.find(pd => pd.__component === "integratedformlabelwhatis.integratedformlabel-what-is") || {};
const {
    integratedformlabelWhatIsTitle, 
    integratedformlabelWhatIsDesc, 
    integratedsolutionText, 
} = integratedformWhatIsData;

const { integratedformImage1: {
	url: integratedformImage1
}} = integratedformWhatIsData;

const { integratedformImage2: {
	url: integratedformImage2
}} = integratedformWhatIsData;

const { integratedformImage3: {
	url: integratedformImage3
}} = integratedformWhatIsData;

const { integratedformImage1: {
	alternativeText: integratedformAltText1
}} = integratedformWhatIsData;

const { integratedformImage2: {
	alternativeText: integratedformAltText2
}} = integratedformWhatIsData;

const { integratedformImage3: {
	alternativeText: integratedformAltText3
}} = integratedformWhatIsData;

//fetch Smart Efficient components
const smartformData = pageData.find(pd => pd.__component === "smartefficientform.smart-efficient-form") || {};
const {
  smartefficientformTitle, 
  commonapplicationsText, 
  ecommerce, 
  distribution, 
  retail, 
  healthcare, 
  insurance, 
  logistics, 
  smartefficientBtn
} = smartformData;
 
const { smartefficientImage: {
	url: smartefficientImage
}} = smartformData;

const { smartefficientImage: {
	alternativeText: smartefficientAltText
}} = smartformData;

---

<Layout>
    <Hero {integratedformlabelHeader} {integratedformlabelDesc} {integratedformlabelImage} {integratedformlabelAltText} />
    <WhatIs {integratedformlabelWhatIsTitle} {integratedformlabelWhatIsDesc} {integratedsolutionText} {integratedformImage1} {integratedformImage2} {integratedformImage3}
    {integratedformAltText1} {integratedformAltText2} {integratedformAltText3} />
    <SmartEfficient {smartefficientformTitle} {commonapplicationsText} {ecommerce} {distribution} {retail}
    {healthcare} {insurance} {logistics} {smartefficientBtn} {smartefficientImage} {smartefficientAltText}/>
</Layout>
